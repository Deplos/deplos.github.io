import{getLanguage}from"./lib/getInfo.js";import{GuideController}from"./guide/guideController.js";const guideController=new GuideController(getLanguage());function setGuide(e){document.querySelector(".guide").innerHTML=`\n        <img src="${e.previewUrl??""}" alt="${e.title}" class="guide__image  ${e.previewUrl?"loaded":""}">\n        <div class="guide__info">\n            <div class="guide__tags">\n                ${e.tags.map((e=>`<span class="tag" data-id="${e.id}">${e.name}</span>`)).join("")}\n            </div>\n            <div class="guide__date">${e.updatedAt.toLocaleDateString()}</div>\n        </div>\n        <h2 class="guide__title">${e.title}</h2>\n        <p class="guide__content"></p>\n    `}function setContent(e){const t=documentToHtmlString(e);document.querySelector(".guide__content").innerHTML=t}function redirect(){return window.location.replace(`/${getLanguage()}/guides.html`)}async function init(){const e=new URLSearchParams(window.location.search).get("id");if(!e)return redirect();const t=await guideController.getGuide(e);if(!t)return redirect();setGuide(t),setContent(t.content)}init();