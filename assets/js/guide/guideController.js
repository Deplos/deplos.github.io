const spaceId="<SPACE ID>",token="<TOKEN>",environmentId="master",graphqlUrl=`https://graphql.contentful.com/content/v1/spaces/${spaceId}/environments/master`,isDebug=!0,demoGuides=[{sys:{id:1,publishedAt:new Date},title:"Demo guide",preview:{url:"https://picsum.photos/200"},contentfulMetadata:{tags:[{name:"minecraft",id:1},{name:"demo",id:2}]},content:{json:{nodeType:"document",content:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Hello world!",marks:[]}]}]}}}];export class GuideController{constructor(e){this.locale={en:"en-US",ru:"ru"}[e]}sendQuery(e,t){return fetch(graphqlUrl,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${token}`},body:JSON.stringify({query:e,variables:t})}).then((e=>e.json())).then((e=>e.data))}async getAllGuides(){this.locale;return{guidesCollection:{items:demoGuides}}.guidesCollection.items.map(this.convertPreviewGuide)}async getGuide(e){this.locale;const t={guides:demoGuides[0]};return this.convertGuide(t.guides)}convertGuide(e){return{id:e.sys.id,title:e.title,previewUrl:e.preview?.url,tags:e.contentfulMetadata.tags,updatedAt:new Date(e.sys.publishedAt),content:e.content.json}}convertPreviewGuide(e){return{id:e.sys.id,title:e.title,previewUrl:e.preview?.url,tags:e.contentfulMetadata.tags,updatedAt:new Date(e.sys.publishedAt)}}async searchGuides(e){this.locale;return{guidesCollection:{items:demoGuides.filter((t=>t.title.includes(e)))}}.guidesCollection.items.map(this.convertPreviewGuide)}}